# Each

Returns the specified values in order.

## Implementation by builder

Describes how to define fields using DataGeneratorBuilder.

### Sample code

```c#
// Creates a builder.
DataGeneratorBuilder builder = new DataGeneratorBuilder();

// Adds fields.
builder
    .AddField(factory => factory.Each(
        "EACH_BYTE",
        // Specifies the values to enumerate.
        new byte?[] { 1, 2, 3, null },
        // Specifies the probability of returning null.
        0.1
        ))
    .AddField(factory => factory.Each(
        "EACH_DAYOFWEEK",
        // Specify the values to enumerate.
        // If omitted, all values are enumerated.
        new DayOfWeek?[] { DayOfWeek.Saturday, DayOfWeek.Sunday, null },
        // Specifies the probability of returning null.
        0.1
        ))
    ;

// Creates a generator that generates 10 records and returns it as a DataReader.
using IDataReader reader = await builder.BuildAsDataReaderAsync(10);
```

The IDataReader generated by this sample code will generate the following data:

```console
EACH_BYTE   EACH_DAYOFWEEK
----------  ----------
1           Saturday
2           (null)
(null)      (null)
(null)      Saturday
1           Sunday
2           (null)
3           Saturday
(null)      Sunday
1           (null)
2           Saturday
```


## Implementation by configuration

Describes how to use a configuration class to define the same fields as the sample code above.

### Sample code

```c#
// Creates a generator settings.
DataGeneratorSettings generatorSetting = new DataGeneratorSettings() { };

// Adds fields.
generatorSetting.Fields = new DataGeneratorFieldSettings[]
{
    new EachFieldSettings<byte>()
    {
        FieldName = "EACH_BYTE",
        // Specifies the candidate value to return.
        Values = new byte?[] { 1, 2, 3, null },
        // Specifies the probability of returning null.
        NullProbability = 0.1
    },
    new EachEnumFieldSettings()
    {
        FieldName = "EACH_DAYOFWEEK",
        // Specifies the type name.
        EnumTypeName = "System.DayOfWeek",
        // Specify the values to enumerate.
        // If omitted, all values are enumerated.
        Values = new string?[] { "Saturday", "Sunday", null },
        // Specifies the probability of returning null.
        NullProbability = 0.1
    }
};

// Create a context that controls the behavior of the generator.
// You can replace random number generation algorithms, string converters, etc. with your own implementation.
DataGeneratorContext context = new DataGeneratorContext();

// Creates a builder.
DataGeneratorBuilder builder = generatorSetting.CreateBuilder(context);

// Creates a generator that generates 10 records and returns it as a DataReader.
using IDataReader reader = await builder.BuildAsDataReaderAsync(10);
```


### Json serialization

The DataGeneratorSettings instance in the sample code above is serialized into a JSON string like this: 

```json
{
  "Fields": [
    {
      "Name": "EACH_BYTE",
      "NullProb": 0.1,
      "Values": [
        1,
        2,
        3,
        null
      ],
      "FieldType": "EachByte"
    },
    {
      "Name": "EACH_DAYOFWEEK",
      "NullProb": 0.1,
      "Values": [
        "Saturday",
        "Sunday",
        null
      ],
      "EnumType": "System.DayOfWeek",
      "FieldType": "EachEnum"
    }
  ],
  "TupleFields": null,
  "AdditionalFields": null,
  "AdditionalTupleFields": null
}
```


## Supported value types

`Enum` supports the following types:

|Type|Configuration Type|JsonSubTypeName|
|:--|:--|:--|
|bool|EachFieldSettings&lt;bool&gt;|EachBoolean|
|byte|EachFieldSettings&lt;byte&gt;|EachByte|
|short|EachFieldSettings&lt;short&gt;|EachInt16|
|int|EachFieldSettings&lt;int&gt;|EachInt32|
|long|EachFieldSettings&lt;long&gt;|EachInt64|
|float|EachFieldSettings&lt;float&gt;|EachSingle|
|double|EachFieldSettings&lt;ldouble&gt;|EachDouble|
|decimal|EachFieldSettings&lt;decimal&gt;|EachDecimal|
|sbyte|EachFieldSettings&lt;sbyte&gt;|EachSByte|
|ushort|EachFieldSettings&lt;ushort&gt;|EachUInt16|
|uint|EachFieldSettings&lt;uint&gt;|EachUInt32|
|ulong|EachFieldSettings&lt;ulong&gt;|EachUInt64|
|DateTime|EachFieldSettings&lt;DateTime&gt;|EachDateTime|
|DateTimeOffset|EachFieldSettings&lt;DateTimeOffset&gt;|EachDateTimeOffset|
|TimeSpan|EachFieldSettings&lt;TimeSpan&gt;|EachTimeSpan|
|char|EachFieldSettings&lt;char&gt;|EachChar|
|string|EachStringFieldSettings|EachString|
|StringValue|EachFieldSettings&lt;StringValue&gt;|EachStringValue|
|Guid|EachFieldSettings&lt;Guid&gt;|EachGuid|
|Enum|EachEnumFieldSettings|EachEnum|

* StringValue is a structure that stores string values. This library is implemented to generate values of any type using Nullable&lt;T&gt;. System.String type cannot meet the generic constraint. Therefore, I have defined StringValue structure as the value type that stores the string.

